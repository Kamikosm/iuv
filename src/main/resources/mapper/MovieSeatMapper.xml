<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.iuv.dao.MovieSeatDao">
  <select id="findObject" resultType="com.iuv.pojo.movie.Movie">
		select id,mv_name mvName,type,start_time startTime,mv_time mvTime,area,price,sml_pic smlPic 
		from movie where id=#{id} 
  </select>
  
  <insert id="insert" parameterType="com.iuv.pojo.movie.Movie">
    insert into ${tableName} (seat_id, data_st, movie_id)
    values (#{seatId}, #{dataSt}, #{movieId})
  </insert>
  
  <update id="updateByPrimaryKeySelective">
    update ${tableName}
    set data_st = 'Y'
    <where>
    	<foreach collection="seatIds" item="seatIds">
    		or seat_id = #{seatIds}
    	</foreach>
    </where>
  </update>
  
  <select id="select" resultType="map">
    select * from ${tableName}
  </select>
  
  <update id="createTable" parameterType="String">  
    CREATE TABLE IF NOT EXISTS ${tableName} (
      `seat_id` int(32) NOT NULL AUTO_INCREMENT COMMENT '座位编号',
      `data_st` char(1) DEFAULT NULL COMMENT '座位状态',
      `movie_id` int(32) DEFAULT NULL COMMENT '电影编号',
      PRIMARY KEY (`seat_id`))
    ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='电影座位关系表';
  </update>
  
</mapper>